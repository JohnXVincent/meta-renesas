From 7d149fcfa4b50785ca7741e3abe7b730eec81839 Mon Sep 17 00:00:00 2001
From: "Nguyen Van Tu [FGA.AIS]" <TuNV16@fsoft.com.vn>
Date: Thu, 8 Nov 2018 09:49:24 +0700
Subject: [PATCH 212/641] ARM: dts: iwg23s board support

Signed-off-by: thongsyho <thong.ho.px@rvc.renesas.com>
Signed-off-by: Nguyen Van Linh [FGA.BU13] <LinhNV25@fsoft.com.vn>
Signed-off-by: vietn <vietn@fsoft.com.vn>
Signed-off-by: Nguyen Van Tu [FGA.AIS] <TuNV16@fsoft.com.vn>
---
 arch/arm/boot/dts/Makefile            |   1 +
 arch/arm/boot/dts/r8a77470-iwg23s.dts | 105 ++++++++++++++++++++++++++++++++++
 arch/arm/configs/shmobile_defconfig   |   1 +
 3 files changed, 107 insertions(+)
 create mode 100644 arch/arm/boot/dts/r8a77470-iwg23s.dts

diff --git a/arch/arm/boot/dts/Makefile b/arch/arm/boot/dts/Makefile
index 443f876..53ddacc6 100644
--- a/arch/arm/boot/dts/Makefile
+++ b/arch/arm/boot/dts/Makefile
@@ -556,6 +556,7 @@ dtb-$(CONFIG_ARCH_SHMOBILE_MULTI) += \
 	r8a7791-porter.dtb \
 	r8a7743-skrzg1m.dtb \
 	r8a7745-skrzg1e.dtb \
+	r8a77470-iwg23s.dtb \
 	r8a7793-gose.dtb \
 	r8a7794-alt.dtb \
 	r8a7794-silk.dtb \
diff --git a/arch/arm/boot/dts/r8a77470-iwg23s.dts b/arch/arm/boot/dts/r8a77470-iwg23s.dts
new file mode 100644
index 0000000..d767bcc
--- /dev/null
+++ b/arch/arm/boot/dts/r8a77470-iwg23s.dts
@@ -0,0 +1,105 @@
+/*
+ * Device Tree Source for the iwg23s-Pi boards
+ *
+ * Copyright (c) 2016 iWave Systems Technologies Pvt. Ltd.
+ *
+ * This file is licensed under the terms of the GNU General Public License
+ * version 2.  This program is licensed "as is" without any warranty of any
+ * kind, whether express or implied.
+ */
+
+/dts-v1/;
+#include "r8a77470.dtsi"
+/ {
+	model = "iW-RainboW-G23S-Pi Board based on Renesas RZ/G1C";
+	compatible = "iw,iwg23s", "renesas,r8a77470";
+
+	aliases {
+		serial1 = &scif1;
+		serial2 = &scif2;
+		serial3 = &scif4;
+		serial4 = &scif5;
+		serial5 = &hscif1;
+		serial6 = &hscif2;
+	};
+
+	memory@40000000 {
+		device_type = "memory";
+		reg = <0 0x40000000 0 0x20000000>;
+	};
+
+};
+
+&extal_clk {
+	clock-frequency = <20000000>;
+};
+
+&pfc {
+	scif1_pins: serial1 {
+		renesas,groups = "scif1_data_b";
+		renesas,function = "scif1";
+	};
+
+	scif2_pins: serial2 {
+		renesas,groups = "scif2_data_b";
+		renesas,function = "scif2";
+	};
+
+	scif4_pins: serial3 {
+		renesas,groups = "scif4_data_b";
+		renesas,function = "scif4";
+	};
+
+	scif5_pins: serial4 {
+		renesas,groups = "scif5_data_b";
+		renesas,function = "scif5";
+	};
+
+	hscif1_pins: serial5 {
+		renesas,groups = "hscif1_data", "hscif1_ctrl_a";
+		renesas,function = "hscif1";
+	};
+
+	hscif2_pins: serial6 {
+		renesas,groups = "hscif2_data", "hscif2_clk", "hscif2_ctrl";
+		renesas,function = "hscif2";
+	};
+};
+
+&scif1 {
+	pinctrl-0 = <&scif1_pins>;
+	pinctrl-names = "default";
+	status = "okay";
+};
+
+&scif2 {
+	pinctrl-0 = <&scif2_pins>;
+	pinctrl-names = "default";
+	status = "okay";
+};
+
+&scif4 {
+	pinctrl-0 = <&scif4_pins>;
+	pinctrl-names = "default";
+	status = "okay";
+};
+
+&scif5 {
+	pinctrl-0 = <&scif5_pins>;
+	pinctrl-names = "default";
+	status = "okay";
+};
+
+&hscif1 {
+	pinctrl-0 = <&hscif1_pins>;
+	pinctrl-names = "default";
+	ctsrts;
+	status = "okay";
+};
+
+&hscif2 {
+	pinctrl-0 = <&hscif2_pins>;
+	pinctrl-names = "default";
+	ctsrts;
+	status = "okay";
+};
\ No newline at end of file
diff --git a/arch/arm/configs/shmobile_defconfig b/arch/arm/configs/shmobile_defconfig
index ca6c88e..ca747e5 100644
--- a/arch/arm/configs/shmobile_defconfig
+++ b/arch/arm/configs/shmobile_defconfig
@@ -25,6 +25,7 @@ CONFIG_ARCH_R8A7790=y
 CONFIG_ARCH_R8A7791=y
 CONFIG_ARCH_R8A7793=y
 CONFIG_ARCH_R8A7794=y
+CONFIG_ARCH_R8A77470=y
 CONFIG_ARCH_SH73A0=y
 CONFIG_CPU_BPREDICT_DISABLE=n
 CONFIG_PL310_ERRATA_588369=y
-- 
2.7.4

