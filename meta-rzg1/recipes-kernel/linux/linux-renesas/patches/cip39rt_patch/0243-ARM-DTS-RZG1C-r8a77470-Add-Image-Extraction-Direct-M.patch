From c9f8f0c9fd53644404e942b61ea4bfa20b71dd33 Mon Sep 17 00:00:00 2001
From: "Pham Thanh Tam [FGA.AIS]" <tampt8@fsoft.com.vn>
Date: Tue, 23 Jul 2019 08:51:21 +0700
Subject: [PATCH 243/636] ARM: DTS: RZG1C r8a77470: Add Image Extraction Direct
 Memory Access Controller (tddmac module) node to device tree

This patch support Renesas tddmac kernel module probe.

Signed-off-by: thongsyho <thong.ho.px@rvc.renesas.com>
Signed-off-by: vietn <vietn@fsoft.com.vn>
Signed-off-by: Pham Thanh Tam [FGA.AIS] <tampt8@fsoft.com.vn>
---
 arch/arm/boot/dts/r8a77470.dtsi | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/arch/arm/boot/dts/r8a77470.dtsi b/arch/arm/boot/dts/r8a77470.dtsi
index dc42321..3b64c67 100644
--- a/arch/arm/boot/dts/r8a77470.dtsi
+++ b/arch/arm/boot/dts/r8a77470.dtsi
@@ -331,6 +331,14 @@
 			renesas,#ch = <0>;
 		};
 
+		tddmac@0xfea00000 {
+			compatible = "renesas,vspm-tddmac","renesas,vspm";
+			reg = <0 0xfea00000 0 0x200>;
+			interrupts = <0 285 IRQ_TYPE_LEVEL_HIGH>;
+			clocks = <&mstp1_clks R8A77470_CLK_2DDMAC>;
+			power-domains = <&sysc R8A77470_PD_ALWAYS_ON>;
+		};
+
 		vspm@fe928000 {
 			compatible = "renesas,vspm-vsps", "renesas-vspm";
 			reg = <0 0xfe928000 0 0x7404>;
-- 
2.7.4

