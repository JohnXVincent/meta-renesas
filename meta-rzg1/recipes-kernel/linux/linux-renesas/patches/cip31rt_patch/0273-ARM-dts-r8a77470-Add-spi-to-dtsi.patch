From e9b96b0c42d4463726b024df9f2069795b29c67e Mon Sep 17 00:00:00 2001
From: khanhluu <khanh.luu.xw@rvc.renesas.com>
Date: Sat, 9 Dec 2017 07:19:12 +0700
Subject: [PATCH 273/642] ARM: dts: r8a77470: Add spi to dtsi

Signed-off-by: khanhluu <khanh.luu.xw@rvc.renesas.com>
Signed-off-by: vietn <vietn@fsoft.com.vn>
---
 arch/arm/boot/dts/r8a77470.dtsi | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

diff --git a/arch/arm/boot/dts/r8a77470.dtsi b/arch/arm/boot/dts/r8a77470.dtsi
index 897e9b9..10b0e59 100644
--- a/arch/arm/boot/dts/r8a77470.dtsi
+++ b/arch/arm/boot/dts/r8a77470.dtsi
@@ -25,6 +25,8 @@
 		i2c2 = &i2c2;
 		i2c3 = &i2c3;
 		i2c4 = &i2c4;
+		spi0 = &qspi0;
+		spi1 = &qspi1;
 	};
 
 	cpus {
@@ -290,6 +292,34 @@
 		#gpio-range-cells = <3>;
 	};
 
+	qspi0: spi@e6b10000 {
+		compatible = "renesas,qspi-r8a77470", "renesas,qspi";
+		reg = <0 0xe6b10000 0 0x2c>;
+		interrupts = <0 184 IRQ_TYPE_LEVEL_HIGH>;
+		clocks = <&mstp9_clks R8A77470_CLK_QSPI_MOD0>;
+		dmas = <&dmac0 0x17>, <&dmac0 0x18>;
+		dma-names = "tx", "rx";
+		power-domains = <&sysc R8A77470_PD_ALWAYS_ON>;
+		num-cs = <1>;
+		#address-cells = <1>;
+		#size-cells = <0>;
+		status = "disabled";
+	};
+
+	qspi1: spi@ee200000 {
+		compatible = "renesas,qspi-r8a77470", "renesas,qspi";
+		reg = <0 0xee200000 0 0x2c>;
+		interrupts = <0 239 IRQ_TYPE_LEVEL_HIGH>;
+		clocks = <&mstp9_clks R8A77470_CLK_QSPI_MOD1>;
+		dmas = <&dmac0 0xd1>, <&dmac0 0xd2>;
+		dma-names = "tx", "rx";
+		power-domains = <&sysc R8A77470_PD_ALWAYS_ON>;
+		num-cs = <1>;
+		#address-cells = <1>;
+		#size-cells = <0>;
+		status = "disabled";
+	};
+
 	scif0: serial@e6e60000 {
 		compatible = "renesas,scif-r8a77470", "renesas,scif";
 		reg = <0 0xe6e60000 0 64>;
-- 
2.7.4

